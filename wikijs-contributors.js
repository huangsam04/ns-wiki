(async()=>{const e=document.currentScript||document.querySelector('script[data-api-endpoint]'),t=e?.dataset.apiEndpoint||"https://nswiki.cn/contributors",n=window.location.pathname.replace(/^\//,""),a=n.replace(/^[a-z]{2}\//,""),o=(n.match(/^([a-z]{2})\//)||[])[1]||"en";try{const e=await fetch(`${t}?path=${encodeURIComponent(a)}&locale=${o}`),n=await e.json();if(!e.ok||n.error)return void console.warn("wikijs-contributors 请求失败:",n.error||e.statusText);const r=n.contributors||[];if(0===r.length)return;const c=document.querySelector("main"),s=c?.querySelector(".contents, .page-contents, article")||c;if(!s||s.querySelector(".wiki-contributors"))return;const i=document.createElement("hr");i.style.cssText="margin:2rem 0 1rem 0;border:none;border-top:1px solid #ddd;",i.className="wiki-contributors";const d=document.createElement("p");d.style.cssText="color:#444;font-size:1.1rem;margin-top:1rem;line-height:1.6;",d.className="wiki-contributors";const l=document.createElement("strong");l.textContent="贡献者";l.style.cssText="color:#222;font-weight:600;margin-right:0.25rem;";const p=document.createTextNode("（按时间顺序）："),u=document.createTextNode(r.join("、"));d.appendChild(l),d.appendChild(p),d.appendChild(u),s.appendChild(i),s.appendChild(d)}catch(e){console.error("wikijs-contributors 网络错误:",e)}})();
